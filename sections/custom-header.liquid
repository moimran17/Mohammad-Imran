{{ 'custom-header.css' | asset_url | stylesheet_tag }}

{%- style -%}
{%- endstyle -%}

<div class="custom-header color-{{ section.settings.color_scheme }}">
  <div class="custom-header__container">
    <div class="custom-header__mobile">
      <div class="custom-header__mobile-top">
        <button class="custom-header__hamburger" data-hamburger-toggle>
          <span class="custom-header__hamburger-icon custom-header__hamburger-icon--open">
            {{- 'hamburger-open.svg' | inline_asset_content }}
          </span>
          <span class="custom-header__hamburger-icon custom-header__hamburger-icon--close">
            {{- 'hamburger-close.svg' | inline_asset_content }}
          </span>
        </button>

        <div class="custom-header__logo">
          <h1 class="custom-header__logo-text">{{ section.settings.logo_text | default: 'LOGO TEXT' }}</h1>
        </div>
      </div>

      <div class="custom-header__mobile-menu" data-mobile-menu>
        <div class="custom-header__mobile-content">
          {% if section.settings.mobile_text != blank %}
            <p class="custom-header__mobile-text">{{ section.settings.mobile_text }}</p>
          {% endif %}

          {% if section.settings.button_label != blank %}
            <a
              href="{{ section.settings.button_link | default: '#' }}"
              class="custom-header__button custom-header__button--mobile"
            >
              <span class="custom-header__button-text">{{ section.settings.button_label }}</span>
              <span class="custom-header__button-icon">
                {{- 'icon-arrow-right-black.svg' | inline_asset_content -}}
              </span>
            </a>
          {% endif %}
        </div>
      </div>
    </div>

    <div class="custom-header__desktop">
      <div class="custom-header__desktop-left">
        <div class="custom-header__logo">
          <h1 class="custom-header__logo-text">{{ section.settings.logo_text | default: 'LOGO TEXT' }}</h1>
        </div>
      </div>
      <div class="custom-header__desktop-center">
        {% if section.settings.desktop_text != blank %}
          <p class="custom-header__desktop-text">{{ section.settings.desktop_text }}</p>
        {% endif %}
      </div>
      <div class="custom-header__desktop-right">
        {% if section.settings.button_label != blank %}
          <a
            href="{{ section.settings.button_link | default: '#' }}"
            class="custom-header__button custom-header__button--desktop"
          >
            <span class="custom-header__button-text">{{ section.settings.button_label }}</span>
            <span class="custom-header__button-icon">
              {{- 'icon-arrow-right-black.svg' | inline_asset_content -}}
            </span>
          </a>
        {% endif %}
      </div>
    </div>
  </div>
</div>

{% javascript %}
  document.addEventListener('DOMContentLoaded', (event) => {
    const hamburgerToggle = document.querySelector('[data-hamburger-toggle]');
    const mobileMenu = document.querySelector('[data-mobile-menu]');
    const mobileTop = document.querySelector('.custom-header__mobile-top');
    const hamburgerOpenIcon = document.querySelector('.custom-header__hamburger-icon--open');
    const hamburgerCloseIcon = document.querySelector('.custom-header__hamburger-icon--close');

    if (hamburgerToggle && mobileMenu) {
      hamburgerToggle.addEventListener('click', function () {
        const isOpen = mobileMenu.classList.contains('custom-header__mobile-menu--open');
        if (isOpen) {
          mobileMenu.classList.remove('custom-header__mobile-menu--open');
          mobileTop.classList.remove('custom-header__mobile-top--menu-open');
          hamburgerOpenIcon.style.display = 'block';
          hamburgerCloseIcon.style.display = 'none';
          hamburgerToggle.setAttribute('aria-expanded', 'false');
        } else {
          mobileMenu.classList.add('custom-header__mobile-menu--open');
          mobileTop.classList.add('custom-header__mobile-top--menu-open');
          hamburgerOpenIcon.style.display = 'none';
          hamburgerCloseIcon.style.display = 'block';
          hamburgerToggle.setAttribute('aria-expanded', 'true');
        }
      });
    }
  });
{% endjavascript %}

{% schema %}
{
  "name": "Custom Header",
  "tag": "section",
  "settings": [
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "default": "scheme_1",
      "label": "Color Scheme"
    },
    {
      "type": "text",
      "id": "logo_text",
      "label": "Logo Text",
      "default": "TISSO VISON"
    },
    {
      "type": "text",
      "id": "mobile_text",
      "label": "Mobile Menu Text",
      "default": "Find the ideal gift for your loved ones."
    },
    {
      "type": "text",
      "id": "desktop_text",
      "label": "Desktop Center Text",
      "default": "Find the ideal gift for your loved ones."
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button Label",
      "default": "CHOOSE GIFT"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button Link"
    }
  ],
  "presets": [
    {
      "name": "Custom Header"
    }
  ]
}
{% endschema %}
